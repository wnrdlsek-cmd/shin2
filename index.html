<!DOCTYPE html></span></p><p class="c0"><span class="c1"><html lang="ko"></span></p><p class="c0"><span class="c1"><head></span></p><p class="c0"><span class="c1">Â  Â  <meta charset="UTF-8"></span></p><p class="c0"><span class="c1">Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0"></span></p><p class="c0"><span class="c1">Â  Â  <title>Tistory Twitter</title></span></p><p class="c0"><span class="c1">Â  Â  <script src="https://cdn.tailwindcss.com"></script></span></p><p class="c0"><span class="c1">Â  Â  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet"></span></p><p class="c0"><span class="c1">Â  Â  <script src="https://unpkg.com/react@18/umd/react.development.js"></script></span></p><p class="c0"><span class="c1">Â  Â  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script></span></p><p class="c0"><span class="c1">Â  Â  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script></span></p><p class="c0"><span class="c1">Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  <script src="https://unpkg.com/lucide-react@latest/dist/umd/lucide-react.min.js"></script> </span></p><p class="c0"><span class="c1">Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  <script></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  tailwind.config = {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  darkMode: 'class',</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  theme: {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  extend: {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  fontFamily: {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sans: ['Inter', 'sans-serif'],</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // [1. ìƒˆ ê²Œì‹œê¸€ íŒ ì• ë‹ˆë©”ì´ì…˜]ì„ ë” ë¶€ë“œëŸ½ê²Œ ìˆ˜ì • (0.7s -> 1.2s)</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  keyframes: {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'pulse-once': {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '0%': { opacity: 0, transform: 'translateY(-10px)', backgroundColor: 'transparent' },</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '10%': { opacity: 0.8, transform: 'translateY(0)', backgroundColor: 'rgba(59, 130, 246, 0.05)' },</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '100%': { opacity: 1, backgroundColor: 'transparent' },</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'dark-pulse-once': {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '0%': { opacity: 0, transform: 'translateY(-10px)', backgroundColor: 'transparent' },</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '10%': { opacity: 0.8, transform: 'translateY(0)', backgroundColor: 'rgba(29, 78, 216, 0.1)' },</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '100%': { opacity: 1, backgroundColor: 'transparent' },</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  animation: {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'pulse-once': 'pulse-once 1.2s ease-out', // 1.2së¡œ ë³€ê²½</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'dark-pulse-once': 'dark-pulse-once 1.2s ease-out', // 1.2së¡œ ë³€ê²½</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  },</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  </script></span></p><p class="c0"><span class="c1">Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  <script type="module"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  import { getAuth, signInWithCustomToken, signInAnonymously, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  import { getFirestore, collection, query, orderBy, onSnapshot, addDoc, serverTimestamp, doc, deleteDoc, updateDoc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  window.firebase = {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  initializeApp, getAuth, signInWithCustomToken, signInAnonymously, onAuthStateChanged, signOut,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  getFirestore, collection, query, orderBy, onSnapshot, addDoc, serverTimestamp, doc, deleteDoc, updateDoc, getDoc, setDoc</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0"><span class="c1">Â  Â  </script></span></p><p class="c0"><span class="c1"></head></span></p><p class="c0"><span class="c1"><body class="bg-gray-100 dark:bg-gray-900 font-sans"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1"><div id="root"></div></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1"><script type="text/babel"></span></p><p class="c0"><span class="c1">Â  Â  const { useState, useEffect, useCallback, useMemo, useRef } = React;</span></p><p class="c0"><span class="c1">Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜: SHA-256 í•´ì‹œ ìƒì„± (ë¹„ë°€ë²ˆí˜¸ ë³´ì•ˆìš©)</span></p><p class="c0"><span class="c1">Â  Â  const sha256 = async (str) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const buffer = new TextEncoder().encode(str);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const hash = await crypto.subtle.digest('SHA-256', buffer);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const hex = Array.from(new Uint8Array(hash)).map(b => b.toString(16).padStart(2, '0')).join('');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  return hex;</span></p><p class="c0"><span class="c1">Â  Â  };</span></p><p class="c0"><span class="c1">Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  // Lucide ì•„ì´ì½˜ ì •ì˜</span></p><p class="c0"><span class="c1">Â  Â  const Lucide = window.LucideReact || {};</span></p><p class="c0"><span class="c1">Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  const LogOut = Lucide.LogOut || 'ğŸšª'; </span></p><p class="c0"><span class="c1">Â  Â  const MessageSquare = Lucide.MessageSquare || 'ğŸ’¬'; </span></p><p class="c0"><span class="c1">Â  Â  const Loader = Lucide.Loader || 'â†»'; </span></p><p class="c0"><span class="c1">Â  Â  const AlertTriangle = Lucide.AlertTriangle || 'âš ï¸';</span></p><p class="c0"><span class="c1">Â  Â  const ChevronDown = Lucide.ChevronDown || 'â–¼';</span></p><p class="c0"><span class="c1">Â  Â  const ChevronUp = Lucide.ChevronUp || 'â–²';</span></p><p class="c0"><span class="c1">Â  Â  const Home = Lucide.Home || 'ğŸ ';</span></p><p class="c0"><span class="c1">Â  Â  const Heart = Lucide.Heart || 'â¤ï¸';</span></p><p class="c0"><span class="c1">Â  Â  const Bookmark = Lucide.Bookmark || 'â˜†';</span></p><p class="c0"><span class="c1">Â  Â  const RepeatIcon = Lucide.Repeat2 || 'â‡†';</span></p><p class="c0"><span class="c1">Â  Â  const Image = Lucide.Image || 'ğŸ–¼ï¸';</span></p><p class="c0"><span class="c1">Â  Â  const X = Lucide.X || 'âŒ';</span></p><p class="c0"><span class="c1">Â  Â  const ArrowLeft = Lucide.ArrowLeft || 'â†';</span></p><p class="c0"><span class="c1">Â  Â  const Bell = Lucide.Bell || 'ğŸ””';</span></p><p class="c0"><span class="c1">Â  Â  const Sun = Lucide.Sun || 'â˜¼';</span></p><p class="c0"><span class="c1">Â  Â  const Moon = Lucide.Moon || 'â˜½';</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c6"></span></p><p class="c0"><span class="c1">Â  Â  const hardcodedFirebaseConfig = {</span></p><p class="c0"><span class="c4">apiKey: </span><span class="c4 c5">"AIzaSyAqjmjuHR9c9LU3fw-opriDk4TA2sdw-N8"</span><span class="c3">,</span></p><p class="c0 c2"><span class="c3"></span></p><p class="c0"><span class="c4">Â  authDomain: </span><span class="c4 c5">"shin1-35930.firebaseapp.com"</span><span class="c3">,</span></p><p class="c0 c2"><span class="c3"></span></p><p class="c0"><span class="c4">Â  projectId: </span><span class="c4 c5">"shin1-35930"</span><span class="c3">,</span></p><p class="c0 c2"><span class="c3"></span></p><p class="c0"><span class="c4">Â  storageBucket: </span><span class="c4 c5">"shin1-35930.firebasestorage.app"</span><span class="c3">,</span></p><p class="c0 c2"><span class="c3"></span></p><p class="c0"><span class="c4">Â  messagingSenderId: </span><span class="c4 c5">"341705553561"</span><span class="c3">,</span></p><p class="c0 c2"><span class="c3"></span></p><p class="c0"><span class="c4">Â  appId: </span><span class="c4 c5">"1:341705553561:web:b071abdf4b15e966eb2a08"</span><span class="c3">,</span></p><p class="c0 c2"><span class="c3"></span></p><p class="c0"><span class="c4">Â  measurementId: </span><span class="c4 c5 c7">"G-86NJYXDMC4"</span></p><p class="c0 c2"><span class="c3"></span></p><p class="c0"><span class="c4">};</span></p><p class="c0"><span class="c1">Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  const ACTIVE_USER_STORAGE_KEY = 'miniTwitterActiveUser';</span></p><p class="c0"><span class="c1">Â  Â  const LAST_CHECKED_NOTIFICATIONS_KEY = 'miniTwitterLastCheckedNotifications';</span></p><p class="c0"><span class="c1">Â  Â  const DARK_MODE_STORAGE_KEY = 'miniTwitterDarkMode';</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  let firebaseConfig, initialAuthToken, canvasAppId;</span></p><p class="c0"><span class="c1">Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  if (Object.keys(hardcodedFirebaseConfig).length > 0 && hardcodedFirebaseConfig.apiKey !== "YOUR_API_KEY") {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  firebaseConfig = hardcodedFirebaseConfig;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  canvasAppId = hardcodedFirebaseConfig.projectId;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  initialAuthToken = null;</span></p><p class="c0"><span class="c1">Â  Â  } else if (typeof window.__firebase_config !== 'undefined') {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  firebaseConfig = JSON.parse(window.__firebase_config);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  canvasAppId = typeof window.__app_id !== 'undefined' ? window.__app_id : firebaseConfig.projectId;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  initialAuthToken = typeof window.__initial_auth_token !== 'undefined' ? window.__initial_auth_token : null;</span></p><p class="c0"><span class="c1">Â  Â  } else {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  firebaseConfig = { apiKey: 'MOCK_API_KEY', authDomain: 'mock-project.firebaseapp.com', projectId: 'mock-project' };</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  canvasAppId = 'default-app-id';</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  initialAuthToken = null;</span></p><p class="c0"><span class="c1">Â  Â  }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  const { initializeApp, getAuth, signInWithCustomToken, signInAnonymously, onAuthStateChanged, signOut,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  getFirestore, collection, query, orderBy, onSnapshot, addDoc, serverTimestamp, doc, deleteDoc, updateDoc, getDoc, setDoc } = window.firebase || {};</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  const getInitialActiveUser = () => localStorage.getItem(ACTIVE_USER_STORAGE_KEY);</span></p><p class="c0"><span class="c1">Â  Â  </span></p><p class="c0 c2"><span class="c7 c8"></span></p><p class="c0"><span class="c1">const MOCK_GROUPS = [</span></p><p class="c0"><span class="c1">Â  Â  { id: 'group1', name: 'ì—ì´ íŒ€', icon: 'A' },</span></p><p class="c0"><span class="c1">Â  Â  { id: 'group2', name: 'ë¹„ íŒ€', icon: 'B' },</span></p><p class="c0"><span class="c1">Â  Â  { id: 'group3', name: 'ì”¨ íŒ€', icon: 'C' },</span></p><p class="c0"><span class="c1">Â  Â  { id: 'group4', name: 'ë”” íŒ€', icon: 'D' },</span></p><p class="c0"><span class="c1">Â  Â  { id: 'group5', name: 'ì´ íŒ€', icon: 'E' },</span></p><p class="c0"><span class="c1">];</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">const MOCK_USERS = [</span></p><p class="c0"><span class="c1">Â  Â  { uid: 'user-001', name: 'ìœ ì € 1', handle: 'user1', color: 'bg-gray-500', profile: '1', group: 'group1' },</span></p><p class="c0"><span class="c1">Â  Â  { uid: 'user-002', name: 'ìœ ì € 2', handle: 'user2', color: 'bg-gray-500', profile: '2', group: 'group1' },</span></p><p class="c0"><span class="c1">Â  Â  { uid: 'user-003', name: 'ìœ ì € 3', handle: 'user3', color: 'bg-gray-500', profile: '3', group: 'group2' },</span></p><p class="c0"><span class="c1">Â  Â  { uid: 'user-004', name: 'ìœ ì € 4', handle: 'user4', color: 'bg-gray-500', profile: '4', group: 'group2' },</span></p><p class="c0"><span class="c1">Â  Â  { uid: 'user-005', name: 'ìœ ì € 5', handle: 'user5', color: 'bg-gray-500', profile: '5', group: 'group3' },</span></p><p class="c0"><span class="c1">Â  Â  { uid: 'user-006', name: 'ìœ ì € 6', handle: 'user6', color: 'bg-gray-500', profile: '6', group: 'group3' },</span></p><p class="c0"><span class="c1">Â  Â  { uid: 'user-007', name: 'ìœ ì € 7', handle: 'user7', color: 'bg-gray-500', profile: '7', group: 'group4' },</span></p><p class="c0"><span class="c1">Â  Â  { uid: 'user-008', name: 'ìœ ì € 8', handle: 'user8', color: 'bg-gray-500', profile: '8', group: 'group4' },</span></p><p class="c0"><span class="c1">Â  Â  { uid: 'user-009', name: 'ìœ ì € 9', handle: 'user9', color: 'bg-gray-500', profile: '9', group: 'group5' },</span></p><p class="c0"><span class="c1">Â  Â  { uid: 'user-010', name: 'ìœ ì € 10', handle: 'user10', color: 'bg-gray-500', profile: '10', group: 'group5' },</span></p><p class="c0"><span class="c1">];</span></p><p class="c0"><span class="c1">Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  const EXAMPLE_IMAGE_URL = 'https://i.imgur.com/KDTgHmT.png';</span></p><p class="c0"><span class="c1">Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  const VIEW_OPTIONS = [</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  { id: 'timeline', name: 'íƒ€ì„ë¼ì¸', icon: Home, emptyMessage: 'ì•„ì§ ê²Œì‹œë¬¼ì´ ì—†ìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ íŠ¸ìœ—ì„ ì‘ì„±í•´ ë³´ì„¸ìš”!' },</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  { id: 'notifications', name: 'ì•Œë¦¼', icon: Bell, emptyMessage: 'ì•„ì§ ë°›ì€ ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤.' },</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  { id: 'likes', name: 'ì¢‹ì•„ìš”', icon: Heart, emptyMessage: 'ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥¸ ê²Œì‹œë¬¼ì´ ì—†ìŠµë‹ˆë‹¤.' },</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  { id: 'bookmarks', name: 'ë¶ë§ˆí¬', icon: Bookmark, emptyMessage: 'ë¶ë§ˆí¬í•œ ê²Œì‹œë¬¼ì´ ì—†ìŠµë‹ˆë‹¤.' },</span></p><p class="c0"><span class="c1">Â  Â  ];</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  const renderContentWithMentions = (content) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  if (!content) return '';</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const mentionRegex = /@([a-zA-Z0-9_]+)/g;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const parts = content.split(mentionRegex);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  return parts.map((part, index) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (index % 2 === 1) { </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  return <span key={index} className="text-blue-500 font-semibold">@{part}</span>;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  return part; </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  });</span></p><p class="c0"><span class="c1">Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  const ProfilePictureDisplay = ({ profile, sizeClass = 'w-10 h-10', textSizeClass = 'text-lg', isSmall = false }) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const hasImage = profile.profileImageUrl && profile.profileImageUrl.startsWith('http');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleImageError = (e, profile) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  e.target.style.display = 'none'; </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const parentDiv = e.target.parentElement;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const colorClass = profile.color.split('-').slice(1, 3).join('-');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const colorMap = {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  'blue-500': '#3b82f6', 'blue-400': '#60a5fa',</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  'pink-500': '#ec4899', 'pink-400': '#f472b6',</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  'indigo-500': '#6366f1', 'indigo-400': '#818cf8',</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  'green-500': '#10b981', 'green-400': '#34d399',</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  'gray-300': '#d1d5db',</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  'gray-500': '#6b7280',</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  };</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (isSmall) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â parentDiv.classList.add('bg-transparent');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â parentDiv.innerHTML = `<span class="text-white ${textSizeClass}">${profile.profile}</span>`;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â return;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  parentDiv.style.backgroundColor = colorMap[colorClass] || '#ccc'; </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  parentDiv.classList.remove('overflow-hidden');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  parentDiv.innerHTML = `<span class="${textSizeClass}">${profile.profile}</span>`; </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const defaultStyleClass = isSmall ? 'bg-transparent' : profile.color;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  <div </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  className={`rounded-full flex items-center justify-center flex-shrink-0 ${sizeClass} ${hasImage ? 'overflow-hidden bg-transparent' : defaultStyleClass}`}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  {hasImage ? (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  src={profile.profileImageUrl} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alt={`${profile.name} profile`} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full h-full object-cover"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onError={(e) => handleImageError(e, profile)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  ) : (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className={`${textSizeClass} ${isSmall ? 'text-white' : ''}`}>{profile.profile}</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  // [2. í”„ë¡œí•„ ë¹„ë°€ë²ˆí˜¸] - ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ ëª¨ë‹¬</span></p><p class="c0"><span class="c1">Â  Â  const PasswordModal = ({ user, onConfirm, onCancel }) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [password, setPassword] = useState('');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [error, setError] = useState('');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleLogin = async (e) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  e.preventDefault();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setError('');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!password) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  return setError('ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const hashedInput = await sha256(password);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (hashedInput === user.passwordHash) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  onConfirm(user);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  } else {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setError('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  <div className="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <div className="bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-sm p-6 transform transition-all"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-4 border-b pb-2"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  @{user.handle}ë‹˜ìœ¼ë¡œ ë¡œê·¸ì¸</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </h3></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-sm text-gray-600 dark:text-gray-400 mb-4"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì´ í”„ë¡œí•„ì€ ë¹„ë°€ë²ˆí˜¸ë¡œ ë³´í˜¸ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <form onSubmit={handleLogin}></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex items-center space-x-3 mb-4"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ProfilePictureDisplay profile={user} sizeClass="w-10 h-10" textSizeClass="text-lg" /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="font-semibold dark:text-white">{user.name} (@{user.handle})</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="password"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={password}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setPassword(e.target.value)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full p-3 text-base border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {error && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-red-500 text-sm mt-2">{error}</p></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex justify-end space-x-3 mt-6"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="button"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={onCancel}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="px-4 py-2 bg-gray-200 text-gray-800 rounded-full hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì·¨ì†Œ</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="submit"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition disabled:opacity-50"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={!password}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ë¡œê·¸ì¸</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </form></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  const QuoteTweetModal = ({ post, onQuoteSubmit, onCancel, currentUserProfile, currentUserId }) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [content, setContent] = useState('');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [imageUrl, setImageUrl] = useState('');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [showImageInput, setShowImageInput] = useState(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const textareaRef = useRef(null);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  useEffect(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (textareaRef.current) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  textareaRef.current.style.height = 'auto';</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [content]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const formProfile = currentUserProfile || {};</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleQuotePost = (e) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  e.preventDefault();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  onQuoteSubmit(content, post.id, imageUrl.trim()); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <div className="bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md p-6 transform transition-all"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-4 border-b pb-2">ì¸ìš©í•˜ì—¬ íŠ¸ìœ—í•˜ê¸°</h3></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <form onSubmit={handleQuotePost}></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex items-start mb-4"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mr-3 flex-shrink-0"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ProfilePictureDisplay profile={formProfile} sizeClass="w-10 h-10" textSizeClass="text-lg" /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ref={textareaRef}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={content}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setContent(e.target.value)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder="ì¸ìš©í•  ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”..."</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="flex-grow p-2 text-base border-b border-gray-200 focus:outline-none focus:border-blue-400 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 resize-none overflow-hidden"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rows="2"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  maxLength="280"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex items-center justify-between mb-4 mt-2"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="button"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={() => setShowImageInput(prev => !prev)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="flex items-center text-blue-500 hover:text-blue-600 transition text-sm font-medium"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {typeof Image === 'string' ? <span className="mr-1">{Image}</span> : <Image size={16} className="mr-1" />}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì´ë¯¸ì§€ ì£¼ì†Œ ì²¨ë¶€</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {imageUrl && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="button"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={() => setImageUrl('')}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="flex items-center text-red-500 hover:text-red-600 transition text-xs"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {typeof X === 'string' ? <span className="mr-1">{X}</span> : <X size={12} className="mr-1" />}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì²¨ë¶€ ì·¨ì†Œ</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {showImageInput && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mb-4"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="url"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={imageUrl}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setImageUrl(e.target.value)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder="ì´ë¯¸ì§€ ì£¼ì†Œ(URL)ë¥¼ ì…ë ¥í•˜ì„¸ìš”. (ì˜ˆ: https://i.imgur.com/example.jpg)"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full p-2 text-sm border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {imageUrl && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mb-4 max-h-40 overflow-hidden rounded-xl border border-gray-200 dark:border-gray-700"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src={imageUrl} alt="ë¯¸ë¦¬ë³´ê¸°" className="w-full object-cover" /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mt-2 p-3 border border-gray-200 dark:border-gray-700 rounded-xl max-h-40 overflow-hidden relative"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="font-semibold text-sm text-gray-800 dark:text-gray-200 truncate">@{post.authorHandle}</p></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-sm text-gray-600 dark:text-gray-400 whitespace-pre-wrap line-clamp-3">{post.content}</p></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="absolute inset-0 bg-gradient-to-t from-white dark:from-gray-800 to-transparent opacity-80 pointer-events-none"></div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex justify-end space-x-3 mt-6"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="button"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={onCancel}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="px-4 py-2 bg-gray-200 text-gray-800 rounded-full hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì·¨ì†Œ</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="submit"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition disabled:opacity-50"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={!currentUserId || (content.trim() === "" && imageUrl.trim() === "")}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì¸ìš© íŠ¸ìœ—</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </form></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  const ReplyModal = ({ post, onReply, onCancel, currentUserProfile, currentUserId }) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [replyContent, setReplyContent] = useState(`@${post.authorHandle} `);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [imageUrl, setImageUrl] = useState('');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [showImageInput, setShowImageInput] = useState(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const textareaRef = useRef(null); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  useEffect(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (textareaRef.current) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  textareaRef.current.style.height = 'auto'; </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  textareaRef.current.focus();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const len = textareaRef.current.value.length;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  textareaRef.current.setSelectionRange(len, len);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, []);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const formProfile = currentUserProfile || { </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  profile: 'ğŸ‘¤', </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  color: 'bg-gray-500', </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  handle: 'ì‚¬ìš©ì',</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  profileImageUrl: '' </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const postProfile = {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  name: post.authorName,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  handle: post.authorHandle,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  profile: post.authorProfile,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  profileImageUrl: post.authorImageUrl,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  color: post.authorColor,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleReplySubmit = (e) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  e.preventDefault();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  onReply(replyContent, post.id, null, imageUrl.trim()); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  onCancel();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  <div className="fixed inset-0 bg-black bg-opacity-50 flex items-start sm:items-center justify-center z-50 p-0 sm:p-4"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <div className="bg-white dark:bg-gray-800 rounded-none sm:rounded-xl shadow-2xl w-full max-w-md transform transition-all overflow-y-auto max-h-full sm:max-h-[90vh]"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center p-3 z-10"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={onCancel} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {typeof ArrowLeft === 'string' ? <span className="text-xl text-gray-700 dark:text-gray-300">{ArrowLeft}</span> : <ArrowLeft size={20} className="text-gray-700 dark:text-gray-300" />}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 className="text-lg font-bold text-gray-900 dark:text-white ml-4">ë‹µê¸€ ì‘ì„±</h3></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="p-4"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex items-start mb-4 border-b border-gray-100 dark:border-gray-700 pb-4"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mr-3 flex-shrink-0"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ProfilePictureDisplay profile={postProfile} sizeClass="w-8 h-8" textSizeClass="text-sm" /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex-grow text-sm"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex items-center space-x-1 mb-1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="font-bold dark:text-white">{post.authorName}</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="text-gray-500 dark:text-gray-400">@{post.authorHandle}</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-gray-800 dark:text-gray-200 whitespace-pre-wrap">{renderContentWithMentions(post.content)}</p></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {post.imageUrl && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mt-2 max-h-32 overflow-hidden rounded-xl"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src={post.imageUrl} alt="ì²¨ë¶€ ì´ë¯¸ì§€" className="w-full object-cover" /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="mt-3 text-sm text-gray-500 dark:text-gray-400"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="text-blue-500">@{post.authorHandle}</span>ë‹˜ì—ê²Œ ë‹µê¸€ ì¤‘</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <form onSubmit={handleReplySubmit} className="flex flex-col"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex items-start"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mr-3 flex-shrink-0 pt-1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ProfilePictureDisplay profile={formProfile} sizeClass="w-10 h-10" textSizeClass="text-lg" /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ref={textareaRef}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={replyContent}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setReplyContent(e.target.value)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder="ë‹µê¸€ì„ ì…ë ¥í•˜ì„¸ìš”..."</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="flex-grow p-2 text-base border-b border-gray-200 focus:outline-none focus:border-blue-400 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 resize-none overflow-hidden"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rows="2"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={!currentUserId}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  maxLength="280"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex flex-col pl-12 pt-2"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex items-center justify-between mt-1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="button"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={() => setShowImageInput(prev => !prev)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="flex items-center text-blue-500 hover:text-blue-600 transition text-sm font-medium"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {typeof Image === 'string' ? <span className="mr-1">{Image}</span> : <Image size={16} className="mr-1" />}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì´ë¯¸ì§€ ì£¼ì†Œ ì²¨ë¶€</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="submit"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="ml-2 px-3 py-1 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition disabled:opacity-50 font-semibold"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={!currentUserId || (replyContent.trim() === "" && imageUrl.trim() === "")}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ë‹µê¸€</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {showImageInput && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mt-2 mb-2"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="url"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={imageUrl}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setImageUrl(e.target.value)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder="ì´ë¯¸ì§€ ì£¼ì†Œ(URL)ë¥¼ ì…ë ¥í•˜ì„¸ìš”."</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full p-2 text-sm border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {imageUrl && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mb-2 max-h-40 overflow-hidden rounded-xl border border-gray-200 dark:border-gray-700 relative"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  src={imageUrl} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alt="ë¯¸ë¦¬ë³´ê¸°" </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full object-cover" </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onError={(e) => {e.target.style.display='none';}}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="button"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={() => setImageUrl('')}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="absolute top-2 right-2 p-1 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-75 transition"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {typeof X === 'string' ? <span className="text-xs">{X}</span> : <X size={14} />}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </form></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  const DeleteConfirmationModal = ({ post, onConfirm, onCancel }) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  if (!post) return null;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const AlertIcon = AlertTriangle; </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  <div className="bg-white dark:bg-gray-700 rounded-xl shadow-2xl w-full max-w-md p-6 transform transition-all"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  <div className="flex items-center space-x-3 mb-4"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  {typeof AlertIcon === 'string' ? <span className="text-red-500 text-2xl">{AlertIcon}</span> : <AlertIcon className="text-red-500 flex-shrink-0" size={24} />}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <h3 className="text-xl font-bold text-gray-900 dark:text-white">ê²Œì‹œë¬¼ ì‚­ì œ í™•ì¸</h3></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  <p className="text-gray-600 dark:text-gray-300 mb-4"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  ì •ë§ë¡œ ì´ ê²Œì‹œë¬¼ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  </p></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  <div className="border-l-4 border-red-300 pl-3 py-2 mb-6 bg-red-50 dark:bg-gray-800 rounded-md"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <p className="font-semibold text-gray-800 dark:text-gray-200">@{post.authorHandle}ì˜ ê²Œì‹œë¬¼:</p></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-sm italic text-gray-600 dark:text-gray-400 mt-1 max-h-24 overflow-hidden whitespace-pre-wrap">{post.content}</p></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  {post.imageUrl && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mt-2 max-h-20 overflow-hidden rounded-lg border border-gray-200 dark:border-gray-700"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src={post.imageUrl} alt="ì²¨ë¶€ ì´ë¯¸ì§€" className="w-full object-cover" /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  <div className="flex justify-end space-x-3"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={onCancel}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  className="px-4 py-2 bg-gray-200 text-gray-800 rounded-full hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  ì·¨ì†Œ</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={onConfirm}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  className="px-4 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition shadow-lg shadow-red-500/50"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  ì‚­ì œí•˜ê¸°</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  const ProfileEditorModal = ({ profile, onSave, onCancel, currentPasswordHash }) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [name, setName] = useState(profile.name);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [handle, setHandle] = useState(profile.handle);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [profileImageUrl, setProfileImageUrl] = useState(profile.profileImageUrl || ''); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [newPassword, setNewPassword] = useState('');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [confirmPassword, setConfirmPassword] = useState('');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [oldPassword, setOldPassword] = useState('');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [error, setError] = useState('');</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const isHandleValid = handle.length > 0 && /^[a-zA-Z0-9_]+$/.test(handle);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const isNameValid = name.length > 0;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const isInfoChanged = name !== profile.name || handle !== profile.handle || profileImageUrl !== (profile.profileImageUrl || '');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const isPasswordSet = !!currentPasswordHash;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const isPasswordChanged = newPassword.length > 0;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const isPasswordValid = isPasswordChanged && newPassword === confirmPassword;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  // ë³€ê²½ì´ ì—†ëŠ” ê²½ìš° ì €ì¥ ë²„íŠ¼ ë¹„í™œì„±í™”</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const isDataUnchanged = !isInfoChanged && !isPasswordChanged;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  // ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•˜ëŠ”ë° ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ê±°ë‚˜ ìƒˆ ë¹„ë°€ë²ˆí˜¸ê°€ ìœ íš¨í•˜ì§€ ì•Šì€ ê²½ìš° ì €ì¥ ë²„íŠ¼ ë¹„í™œì„±í™”</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const isPasswordError = isPasswordChanged && (!isPasswordValid || (isPasswordSet && !oldPassword));</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const isDisabled = !isHandleValid || !isNameValid || isDataUnchanged || isPasswordError;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleSave = async () => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setError('');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (isPasswordChanged) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  if (newPassword !== confirmPassword) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return setError('ìƒˆ ë¹„ë°€ë²ˆí˜¸ì™€ í™•ì¸ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  if (isPasswordSet) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const hashedOld = await sha256(oldPassword);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (hashedOld !== currentPasswordHash) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return setError('ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  try {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  let passwordHash = currentPasswordHash;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  if (isPasswordChanged) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  passwordHash = await sha256(newPassword);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  onSave({ </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  name, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  handle, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  profileImageUrl: profileImageUrl.trim(), </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  passwordHash: isPasswordChanged ? passwordHash : (isPasswordSet ? currentPasswordHash : null)</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  } catch (e) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  console.error("Profile Save Error:", e);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setError('ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <div className="bg-white dark:bg-gray-700 rounded-xl shadow-2xl w-full max-w-md p-6"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-4 border-b pb-2">í”„ë¡œí•„ ìˆ˜ì •</h3></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex flex-col items-center mb-6"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="w-20 h-20 rounded-full flex items-center justify-center text-4xl mb-3"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ProfilePictureDisplay </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  profile={{ ...profile, profileImageUrl: profileImageUrl }} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sizeClass="w-20 h-20"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  textSizeClass="text-4xl"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="space-y-4 mb-6"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="border-b pb-2 dark:border-gray-600"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label className="block text-sm font-medium text-gray-700 dark:text-gray-300"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  í”„ë¡œí•„ ì´ë¯¸ì§€ URL</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="text-xs text-gray-400 ml-2">(ì˜ˆ: {EXAMPLE_IMAGE_URL})</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </label></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="url"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={profileImageUrl}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setProfileImageUrl(e.target.value)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="mt-1 w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder="ì´ë¯¸ì§€ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì„ íƒ ì‚¬í•­)"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="border-b pb-2 dark:border-gray-600"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label className="block text-sm font-medium text-gray-700 dark:text-gray-300">ì´ë¦„</label></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="text"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={name}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setName(e.target.value)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="mt-1 w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  maxLength="15"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="border-b pb-2 dark:border-gray-600"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label className="block text-sm font-medium text-gray-700 dark:text-gray-300">ì•„ì´ë”” (Handle)</label></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="inline-flex items-center px-3 text-sm text-gray-500 bg-gray-100 border border-r-0 border-gray-300 rounded-l-lg dark:bg-gray-600 dark:border-gray-600 dark:text-gray-300">@</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="text"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={handle}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setHandle(e.target.value.toLowerCase().replace(/[^a-z0-9_]/g, ''))}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className={`flex-1 p-2 border border-gray-300 rounded-r-lg dark:bg-gray-800 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500 ${!isHandleValid && handle.length > 0 ? 'border-red-500' : ''}`}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  maxLength="15"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder="ì˜ë¬¸, ìˆ«ì, ë°‘ì¤„ë§Œ ê°€ëŠ¥"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {!isHandleValid && handle.length > 0 && <p className="text-xs text-red-500 mt-1">ì•„ì´ë””ëŠ” ì˜ë¬¸, ìˆ«ì, ë°‘ì¤„(_)ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* [2. í”„ë¡œí•„ ë¹„ë°€ë²ˆí˜¸] - ë¹„ë°€ë²ˆí˜¸ ì„¤ì • ì„¹ì…˜ */}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600 space-y-3"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 className="font-bold text-gray-800 dark:text-white">{isPasswordSet ? 'ë¹„ë°€ë²ˆí˜¸ ë³€ê²½' : 'ë¹„ë°€ë²ˆí˜¸ ì„¤ì • (ì„ íƒ ì‚¬í•­)'}</h4></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isPasswordSet && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label className="block text-xs font-medium text-gray-600 dark:text-gray-400">ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸</label></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="password"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={oldPassword}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setOldPassword(e.target.value)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="mt-1 w-full p-2 text-sm border border-gray-300 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder="ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label className="block text-xs font-medium text-gray-600 dark:text-gray-400">{isPasswordSet ? 'ìƒˆ ë¹„ë°€ë²ˆí˜¸' : 'ë¹„ë°€ë²ˆí˜¸'}</label></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="password"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={newPassword}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setNewPassword(e.target.value)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="mt-1 w-full p-2 text-sm border border-gray-300 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder={isPasswordSet ? "ìƒˆ ë¹„ë°€ë²ˆí˜¸ (ë³€ê²½ ì•ˆ í•˜ë ¤ë©´ ë¹„ì›Œë‘ì„¸ìš”)" : "ë¹„ë°€ë²ˆí˜¸"}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isPasswordChanged && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label className="block text-xs font-medium text-gray-600 dark:text-gray-400">ìƒˆ ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="password"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={confirmPassword}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setConfirmPassword(e.target.value)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="mt-1 w-full p-2 text-sm border border-gray-300 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder="ë¹„ë°€ë²ˆí˜¸ í™•ì¸"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {newPassword !== confirmPassword && <p className="text-xs text-red-500 mt-1">ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {error && <p className="text-xs text-red-500 mt-1">{error}</p>}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex justify-end space-x-3 mt-6"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={onCancel}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="px-4 py-2 bg-gray-200 text-gray-800 rounded-full hover:bg-gray-300 transition dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì·¨ì†Œ</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={handleSave}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition disabled:opacity-50"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={isDisabled}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì €ì¥</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  const formatTimestamp = (date) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  if (!date || isNaN(date.getTime())) return 'ë°©ê¸ˆ ì „';</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const now = new Date();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const diff = now.getTime() - date.getTime();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const seconds = Math.floor(diff / 1000);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const minutes = Math.floor(seconds / 60);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const hours = Math.floor(minutes / 60);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const days = Math.floor(hours / 24);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  if (seconds < 60) return `${seconds}ì´ˆ ì „`;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  if (minutes < 60) return `${minutes}ë¶„ ì „`;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  if (hours < 24) return `${hours}ì‹œê°„ ì „`;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  if (days < 7) return `${days}ì¼ ì „`;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  return date.toLocaleDateString('ko-KR');</span></p><p class="c0"><span class="c1">Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  const QuotedPost = ({ originalPost, onThreadSelect }) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  if (!originalPost) return null;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const postProfile = {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  name: originalPost.authorName,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  handle: originalPost.authorHandle,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  profile: originalPost.authorProfile,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  profileImageUrl: originalPost.authorImageUrl,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  color: originalPost.authorColor,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  <div </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  className="mt-2 p-3 border border-gray-200 dark:border-gray-700 rounded-xl cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  onClick={(e) => { e.stopPropagation(); onThreadSelect(originalPost.id); }}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex items-center space-x-2 mb-1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ProfilePictureDisplay profile={postProfile} sizeClass="w-5 h-5" textSizeClass="text-xs" /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="font-bold text-xs dark:text-white">{originalPost.authorName}</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="text-gray-500 dark:text-gray-400 text-xs">@{originalPost.authorHandle}</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap line-clamp-3">{renderContentWithMentions(originalPost.content)}</p></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  {originalPost.imageUrl && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mt-2 max-h-40 overflow-hidden rounded-xl"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  src={originalPost.imageUrl} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alt="ì²¨ë¶€ ì´ë¯¸ì§€" </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full h-auto object-cover border border-gray-300 dark:border-gray-600"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  const PostItem = (props) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const { post, onThreadSelect, onRequestDelete, onEditPost, onNewPostAnimated, newPostId, posts, onToggleLike, onToggleBookmark, onRetweetAction, onReplyClick, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  isThreadView = false, isMainFocus = false, isPreview = false, drawTopLine, drawBottomLine, isTimelinePreview = false, isTimelineParent = false } = props;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [isEditing, setIsEditing] = useState(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [editContent, setEditContent] = useState(post.content);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [isFlashing, setIsFlashing] = useState(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [showRetweetMenu, setShowRetweetMenu] = useState(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const hasFlashed = useRef(false);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const originalPost = posts.find(p => p.id === post.retweetedPostId);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const isRetweet = !!post.retweetedPostId;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const isSimpleRetweet = isRetweet && !post.content && !post.replyToId;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const isAuthor = post.authorId === App.currentUserId;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const MessageIcon = MessageSquare;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const targetPostId = isSimpleRetweet && originalPost ? originalPost.id : post.id;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const sourcePostForReactions = isSimpleRetweet && originalPost ? originalPost : post;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const isLiked = sourcePostForReactions.likes?.includes(App.currentUserId);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const isBookmarked = sourcePostForReactions.bookmarks?.includes(App.currentUserId);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const retweetsCount = posts.filter(p => p.retweetedPostId === post.id).length;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const isRetweetedByCurrentUser = posts.some(p =></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  p.retweetedPostId === post.id &&</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  !p.content &&</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  !p.replyToId &&</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  p.authorId === App.currentUserId</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  );</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const postProfile = isSimpleRetweet && originalPost ? {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  name: originalPost.authorName,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  handle: originalPost.authorHandle,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  color: originalPost.authorColor,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  profile: originalPost.authorProfile,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  profileImageUrl: originalPost.authorImageUrl,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  } : {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  name: post.authorName,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  handle: post.authorHandle,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  color: post.authorColor,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  profile: post.authorProfile,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  profileImageUrl: post.authorImageUrl,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  // [1. ìƒˆ ê²Œì‹œê¸€ íŒ ì• ë‹ˆë©”ì´ì…˜] - useEffect ìˆ˜ì • (1.2së¡œ ë³€ê²½)</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  useEffect(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  // ìƒˆ ê²Œì‹œë¬¼ì´ íƒ€ì„ë¼ì¸ì— ì¶”ê°€ë˜ì—ˆì„ ë•Œë§Œ ì• ë‹ˆë©”ì´ì…˜ ì ìš©</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (post.id === newPostId && !hasFlashed.current && !isThreadView) { </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setIsFlashing(true);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  hasFlashed.current = true;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const timer = setTimeout(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setIsFlashing(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (onNewPostAnimated) onNewPostAnimated();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  }, 1250); // ì• ë‹ˆë©”ì´ì…˜ ì‹œê°„ (1.2së³´ë‹¤ ì•½ê°„ ê¸¸ê²Œ)</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  return () => clearTimeout(timer);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (newPostId === null && isFlashing) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setIsFlashing(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [newPostId, post.id, onNewPostAnimated, isFlashing, isThreadView]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleSaveEdit = async () => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const success = await onEditPost(post.id, editContent);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (success) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setIsEditing(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const replies = useMemo(() => posts</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  .filter(p => p.replyToId === post.id)</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  .sort((a, b) => a.timestamp.getTime() - b.timestamp.getTime()), [posts, post.id]);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const hasReplies = replies.length > 0;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  // [1. ìƒˆ ê²Œì‹œê¸€ íŒ ì• ë‹ˆë©”ì´ì…˜] - í´ë˜ìŠ¤ ì ìš©</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const animationClass = isFlashing ? 'animate-pulse-once dark:animate-dark-pulse-once' : '';</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handlePostClick = (e) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â // Allow clicks on timeline previews to navigate</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (isTimelineParent || isTimelinePreview) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â // The parent container has the onClick handler, so we let it propagate</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  return;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (isMainFocus || isPreview) return; </span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const isActionElement = e.target.tagName === 'BUTTON' || e.target.tagName === 'TEXTAREA' || e.target.tagName === 'INPUT' || e.target.tagName === 'A' || e.target.closest('button') || e.target.closest('.retweet-menu');</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!isActionElement) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const targetThreadId = (isRetweet && originalPost) ? originalPost.id : post.id;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  onThreadSelect(targetThreadId);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleRetweetMenuAction = (e, actionType) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  e.stopPropagation();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  onRetweetAction(post, actionType);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setShowRetweetMenu(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleReplyButtonClick = (e) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  e.stopPropagation();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (App.currentUserId) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  onReplyClick(post);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const finalDrawTopLine = drawTopLine !== undefined ? drawTopLine : props.hasParent;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const finalDrawBottomLine = drawBottomLine !== undefined ? drawBottomLine : hasReplies;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  // [2. ëŒ“ê¸€ ìŠ¤ë ˆë“œ êµ¬ë¶„ì„  ë³µêµ¬] - ìŠ¤ë ˆë“œ ë·°ì¼ì§€ë¼ë„, ëŒ€ëŒ“ê¸€(replyToIdê°€ ìˆëŠ” ê²½ìš°)ì´ ì•„ë‹ˆë©´ ê²½ê³„ì„ ì„ í‘œì‹œí•©ë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  // isThreadView && post.replyToId ê°€ ì°¸ì¼ ê²½ìš° (ì¦‰, ëŒ“ê¸€ì˜ ëŒ“ê¸€ì¸ ê²½ìš°)ì—ë§Œ ê²½ê³„ì„ ì„ ì œê±°í•©ë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  // isMainFocusëŠ” í•­ìƒ border-bë¥¼ í‘œì‹œí•´ì•¼ ìŠ¤ë ˆë“œ ì œëª© ì—­í• ì„ í•©ë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const shouldHaveBorder = !isThreadView || isMainFocus || (isThreadView && !post.replyToId);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const borderClass = shouldHaveBorder ? `border-b border-gray-100 dark:border-gray-800` : '';</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  <div className={isTimelinePreview || isTimelineParent ? '' : borderClass}></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  {isSimpleRetweet && originalPost && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex items-center text-green-500 text-xs font-semibold px-4 pt-2 dark:text-green-400 cursor-default"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {typeof RepeatIcon === 'string' ? <span className="mr-1 text-sm">{RepeatIcon}</span> : <RepeatIcon size={14} className="mr-1" />}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>{post.authorName}ë‹˜ì´ ë¦¬íŠ¸ìœ—í–ˆìŠµë‹ˆë‹¤.</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <div</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className={`transition ${animationClass} ${isMainFocus || isPreview ? '' : 'cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800'}`}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={handlePostClick}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex items-start p-4"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mr-3 flex-shrink-0 flex flex-col items-center relative"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {finalDrawTopLine && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="absolute bottom-full left-1/2 -translate-x-1/2 w-px h-4 bg-gray-300 dark:bg-gray-700"></div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ProfilePictureDisplay</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  profile={postProfile}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sizeClass={isMainFocus ? 'w-12 h-12' : 'w-10 h-10'}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  textSizeClass={isMainFocus ? 'text-xl' : 'text-lg'}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {finalDrawBottomLine && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="absolute top-full left-1/2 -translate-x-1/2 w-px h-full bg-gray-300 dark:bg-gray-700"></div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex-grow"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex items-center justify-between"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isMainFocus ? (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex flex-col"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="font-bold dark:text-white truncate text-lg"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isSimpleRetweet && originalPost ? originalPost.authorName : post.authorName}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="text-gray-500 dark:text-gray-400 truncate text-sm"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  @{isSimpleRetweet && originalPost ? originalPost.authorHandle : post.authorHandle}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) : (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-400 flex-wrap"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="font-bold text-gray-800 dark:text-white text-sm truncate"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isSimpleRetweet && originalPost ? originalPost.authorName : post.authorName}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="truncate"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  @{isSimpleRetweet && originalPost ? originalPost.authorHandle : post.authorHandle}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>Â·</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>{formatTimestamp(new Date(post.timestamp))}</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {post.editedAt && <span className="italic text-xs">(ìˆ˜ì •ë¨)</span>}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isAuthor && !isSimpleRetweet && !isPreview &&(</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex space-x-2 flex-shrink-0 ml-auto pl-2"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={(e) => { e.stopPropagation(); setIsEditing(true); }}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="text-xs text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition disabled:opacity-50 font-medium rounded p-1"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={isEditing}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ìˆ˜ì •</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={(e) => { e.stopPropagation(); onRequestDelete(post.id); }}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="text-xs text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition font-medium rounded p-1"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì‚­ì œ</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isEditing ? (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mt-2 flex flex-col space-y-2" onClick={(e) => e.stopPropagation()}></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={editContent}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setEditContent(e.target.value)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full p-2 text-sm border border-blue-400 rounded-lg focus:outline-none dark:bg-gray-700 dark:text-gray-100 resize-none"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rows="3"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex justify-end space-x-2"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={(e) => { e.stopPropagation(); setIsEditing(false); }}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="px-3 py-1 text-sm text-gray-700 bg-gray-200 rounded-full hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-100"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì·¨ì†Œ</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={(e) => { e.stopPropagation(); handleSaveEdit(); }}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="px-3 py-1 text-sm bg-blue-500 text-white rounded-full hover:bg-blue-600 transition disabled:opacity-50"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={editContent.trim() === post.content.trim() || editContent.trim() === ""}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì €ì¥</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) : (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isSimpleRetweet && originalPost ? (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className={`text-gray-800 dark:text-gray-200 whitespace-pre-wrap ${isMainFocus ? 'text-lg my-3' : 'mt-1 text-sm'}`}>{renderContentWithMentions(originalPost.content)}</p></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) : (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className={`text-gray-800 dark:text-gray-200 whitespace-pre-wrap ${isMainFocus ? 'text-lg my-3' : 'mt-1 text-sm'}`}>{renderContentWithMentions(post.content)}</p></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {post.imageUrl && !isSimpleRetweet && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className={`mt-3 ${isMainFocus ? 'max-h-80' : 'max-h-96'} overflow-hidden rounded-xl`}></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  src={post.imageUrl}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alt="ì²¨ë¶€ ì´ë¯¸ì§€"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full h-auto object-cover border border-gray-300 dark:border-gray-600"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onError={(e) => { e.target.style.display = 'none'; }}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {originalPost && !isSimpleRetweet && <QuotedPost originalPost={originalPost} onThreadSelect={onThreadSelect} />}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isMainFocus && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mt-2 border-y border-gray-200 dark:border-gray-700 py-2"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="text-gray-500 dark:text-gray-400 flex-shrink-0 text-sm"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {new Date(post.timestamp).toLocaleString('ko-KR')}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {post.editedAt && <span className="italic text-sm">(ìˆ˜ì •ë¨)</span>}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {!isTimelineParent && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className={`flex text-gray-500 dark:text-gray-400 space-x-6 ${isMainFocus ? 'mt-2 text-base' : 'mt-3 text-sm'}`}></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={handleReplyButtonClick}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="flex items-center space-x-1 hover:text-blue-500 transition"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={!App.currentUserId}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {typeof MessageIcon === 'string' ? <span>{MessageIcon}</span> : <MessageIcon size={isMainFocus ? 20 : 16} />}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>{replies.length > 0 ? replies.length : ''}</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="relative"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={(e) => { e.stopPropagation(); setShowRetweetMenu(!showRetweetMenu); }}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className={`flex items-center space-x-1 transition disabled:opacity-50 ${isRetweetedByCurrentUser ? 'text-green-500 hover:text-green-600' : 'hover:text-green-500'}`}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={!App.currentUserId}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {typeof RepeatIcon === 'string'</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ? <span>{RepeatIcon}</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  : <RepeatIcon size={isMainFocus ? 20 : 16} className={isRetweetedByCurrentUser ? 'text-green-500' : ''} /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>{retweetsCount > 0 ? retweetsCount : ''}</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {showRetweetMenu && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="retweet-menu absolute left-0 bottom-full mb-2 w-48 bg-white dark:bg-gray-700 rounded-xl shadow-xl border border-gray-200 dark:border-gray-600 z-10 overflow-hidden" onClick={e => e.stopPropagation()}></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={(e) => handleRetweetMenuAction(e, 'RT')}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className={`w-full text-left px-4 py-2 text-sm transition ${isRetweetedByCurrentUser ? 'text-red-500 hover:bg-red-50 dark:hover:bg-gray-600/50 font-bold' : 'text-green-500 hover:bg-green-50 dark:hover:bg-gray-600/50'}`}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isRetweetedByCurrentUser ? 'ë¦¬íŠ¸ìœ— ì·¨ì†Œ' : 'ë¦¬íŠ¸ìœ—í•˜ê¸°'}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={(e) => handleRetweetMenuAction(e, 'QT')}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full text-left px-4 py-2 text-sm text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì¸ìš©í•˜ì—¬ íŠ¸ìœ—í•˜ê¸°</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={(e) => { e.stopPropagation(); onToggleLike(targetPostId); }}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className={`flex items-center space-x-1 transition disabled:opacity-50 ${isLiked ? 'text-red-500 hover:text-red-600' : 'hover:text-red-500'}`}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={!App.currentUserId}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {typeof Heart === 'string'</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ? <span>{isLiked ? 'â¤ï¸' : 'ğŸ¤'}</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  : <Heart size={isMainFocus ? 20 : 16} fill={isLiked ? 'currentColor' : 'none'} className={isLiked ? 'text-red-500' : ''} /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>{sourcePostForReactions.likes?.length > 0 ? sourcePostForReactions.likes.length : ''}</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={(e) => { e.stopPropagation(); onToggleBookmark(targetPostId); }}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className={`flex items-center space-x-1 transition disabled:opacity-50 ${isBookmarked ? 'text-blue-500 hover:text-blue-600' : 'hover:text-blue-500'}`}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={!App.currentUserId}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {typeof Bookmark === 'string'</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ? <span>{isBookmarked ? 'â˜…' : 'â˜†'}</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  : <Bookmark size={isMainFocus ? 20 : 16} fill={isBookmarked ? 'currentColor' : 'none'} className={isBookmarked ? 'text-blue-500' : ''} /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  const ReplyForm = ({ parentId, onReply, isMainPost = false, currentUserProfile, currentUserId, parentAuthorHandle }) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [replyContent, setReplyContent] = useState('');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [imageUrl, setImageUrl] = useState('');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [showImageInput, setShowImageInput] = useState(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const textareaRef = useRef(null); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  useEffect(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const initialContent = !isMainPost && parentAuthorHandle ? `@${parentAuthorHandle} ` : '';</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setReplyContent(initialContent);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [parentId, parentAuthorHandle, isMainPost]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  useEffect(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (textareaRef.current) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  textareaRef.current.style.height = 'auto'; </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [replyContent]);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const formProfile = currentUserProfile || { </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  profile: 'ğŸ‘¤', </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  color: 'bg-gray-500', </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  handle: 'ì‚¬ìš©ì',</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  profileImageUrl: '' </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleReplySubmit = (e) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  e.preventDefault();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  onReply(replyContent, parentId, null, imageUrl.trim()); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const initialContent = !isMainPost && parentAuthorHandle ? `@${parentAuthorHandle} ` : '';</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setReplyContent(isMainPost ? '' : initialContent);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setImageUrl('');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setShowImageInput(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  if (!currentUserId && !isMainPost) return null; </span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  <form onSubmit={handleReplySubmit} className={`flex flex-col ${isMainPost ? 'px-4 pb-4' : 'px-4 py-3'}`}></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  <div className="flex"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <div className="mr-3 flex-shrink-0"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ProfilePictureDisplay profile={formProfile} sizeClass="w-10 h-10 mt-2" textSizeClass="text-lg" /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <textarea</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ref={textareaRef}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={replyContent}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setReplyContent(e.target.value)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder={isMainPost ? "ì§€ê¸ˆ ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚˜ê³  ìˆë‚˜ìš”?" : "ë‹µê¸€ì„ ê²Œì‹œí•˜ì„¸ìš”."}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="flex-grow p-2 text-base bg-transparent focus:outline-none dark:text-gray-100 resize-none overflow-hidden mt-2"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rows="1"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={!currentUserId}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  maxLength="280" </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  <div className="flex flex-col pl-12 pt-2"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex items-center justify-between mt-1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="button"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={() => setShowImageInput(prev => !prev)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="flex items-center text-blue-500 hover:text-blue-600 transition text-sm font-medium"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {typeof Image === 'string' ? <span className="mr-1">{Image}</span> : <Image size={16} className="mr-1" />}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì´ë¯¸ì§€ ì£¼ì†Œ ì²¨ë¶€</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="submit"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="ml-2 px-4 py-1.5 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition disabled:opacity-50 font-semibold text-sm"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={!currentUserId || (replyContent.trim() === "" && imageUrl.trim() === "")}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isMainPost ? 'ê²Œì‹œ' : 'ë‹µê¸€'}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  {showImageInput && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mt-2 mb-2"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="url"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={imageUrl}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setImageUrl(e.target.value)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder="ì´ë¯¸ì§€ ì£¼ì†Œ(URL)ë¥¼ ì…ë ¥í•˜ì„¸ìš”."</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full p-2 text-sm border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  {imageUrl && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mb-2 max-h-40 overflow-hidden rounded-xl border border-gray-200 dark:border-gray-700 relative"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  src={imageUrl} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alt="ë¯¸ë¦¬ë³´ê¸°" </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full object-cover" </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onError={(e) => {e.target.style.display='none';}}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="button"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={() => setImageUrl('')}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="absolute top-2 right-2 p-1 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-75 transition"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {typeof X === 'string' ? <span className="text-xs">{X}</span> : <X size={14} />}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  </form></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">const RecursiveReplies = ({ parentId, allPostProps, posts, postsWithChildren }) => {</span></p><p class="c0"><span class="c1">Â  Â  const childReplies = useMemo(() => </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  posts.filter(p => p.replyToId === parentId)</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â .sort((a, b) => a.timestamp.getTime() - b.timestamp.getTime()),</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  [parentId, posts]</span></p><p class="c0"><span class="c1">Â  Â  );</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  <div className="pl-0"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  {childReplies.map((reply, index) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const hasChildren = postsWithChildren.has(reply.id);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  // [2. ëŒ“ê¸€ ìŠ¤ë ˆë“œ ê·¸ë£¹í™”] - ëŒ€ëŒ“ê¸€ì˜ ëŒ€ëŒ“ê¸€ì€ isThreadView=trueë¡œ ì „ë‹¬í•˜ì—¬ border-bë¥¼ ì œê±°í•©ë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  // ExpandableReply ë‚´ì—ì„œ ì´ë¯¸ ì²˜ë¦¬í–ˆê¸° ë•Œë¬¸ì— ì—¬ê¸°ì„œëŠ” isThreadView=trueë¥¼ ê³ ì •í•©ë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div key={reply.id}></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <PostItem</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {...allPostProps}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  post={reply}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isThreadView={true} // ìŠ¤ë ˆë“œ ë‚´ í•˜ìœ„ ëŒ“ê¸€ë¡œ ì²˜ë¦¬</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawTopLine={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawBottomLine={hasChildren}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {hasChildren && <RecursiveReplies parentId={reply.id} allPostProps={allPostProps} posts={posts} postsWithChildren={postsWithChildren}/>}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  )</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  })}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  );</span></p><p class="c0"><span class="c1">};</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">const ExpandableReply = ({ reply, index, replies, allPostProps, posts, postsWithChildren }) => {</span></p><p class="c0"><span class="c1">Â  Â  const [isExpanded, setIsExpanded] = useState(false);</span></p><p class="c0"><span class="c1">Â  Â  const hasChildren = postsWithChildren.has(reply.id);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  const countDescendants = useCallback((postId) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const children = posts.filter(p => p.replyToId === postId);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  let count = children.length;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  children.forEach(child => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  count += countDescendants(child.id);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  return count;</span></p><p class="c0"><span class="c1">Â  Â  }, [posts]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  const descendantCount = useMemo(() => hasChildren ? countDescendants(reply.id) : 0, [hasChildren, reply.id, countDescendants]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  <div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  <PostItem</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  {...allPostProps}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  post={reply}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  isThreadView={true} // ìŠ¤ë ˆë“œ ë‚´ ì§ê³„ ëŒ“ê¸€ë¡œ ì²˜ë¦¬ (PostItemì—ì„œ border ê²°ì •)</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  drawTopLine={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  drawBottomLine={hasChildren}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  {hasChildren && !isExpanded && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <div className="pb-2" onClick={(e) => { e.stopPropagation(); setIsExpanded(true); }}></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="relative pt-1 ml-16 cursor-pointer"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="absolute left-[-26px] top-[-4px] text-center w-5"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="text-gray-400 dark:text-gray-600 text-lg leading-none"></span> {/* ì ì„  ëŒ€ì‹  ë¹ˆ ê³µê°„ */}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="text-sm font-semibold text-blue-500 hover:text-blue-600"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â {`ë‹µê¸€ ${descendantCount}ê°œ ë³´ê¸°`}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  {hasChildren && isExpanded && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â <RecursiveReplies parentId={reply.id} allPostProps={allPostProps} posts={posts} postsWithChildren={postsWithChildren}/></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  );</span></p><p class="c0"><span class="c1">};</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">// [1. ë‹¤í¬ ëª¨ë“œ ì¶”ê°€] - í† ê¸€ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸</span></p><p class="c0"><span class="c1">const DarkAndLightModeButton = ({ isDarkMode, onToggle }) => {</span></p><p class="c0"><span class="c1">Â  Â  const Icon = isDarkMode ? Sun : Moon;</span></p><p class="c0"><span class="c1">Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  onClick={onToggle}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  className="p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  title={isDarkMode ? "ë¼ì´íŠ¸ ëª¨ë“œë¡œ ì „í™˜" : "ë‹¤í¬ ëª¨ë“œë¡œ ì „í™˜"}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  {typeof Icon === 'string' ? <span className="text-xl">{Icon}</span> : <Icon size={20} />}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  );</span></p><p class="c0"><span class="c1">};</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">const App = () => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [db, setDb] = useState(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [auth, setAuth] = useState(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [currentUserId, setCurrentUserId] = useState(getInitialActiveUser());</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [posts, setPosts] = useState([]);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [isLoading, setIsLoading] = useState(true);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [activeGroup, setActiveGroup] = useState(MOCK_GROUPS[0].id);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [newPostId, setNewPostId] = useState(null); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [selectedPostIdForThread, setSelectedPostIdForThread] = useState(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [postToDelete, setPostToDelete] = useState(null); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [currentCustomProfile, setCurrentCustomProfile] = useState(null); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [allCustomProfiles, setAllCustomProfiles] = useState({}); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [customGroups, setCustomGroups] = useState({}); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [editingGroupId, setEditingGroupId] = useState(null); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [editingGroupName, setEditingGroupName] = useState(''); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [isProfileModalOpen, setIsProfileModalOpen] = useState(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [isPasswordModalOpen, setIsPasswordModalOpen] = useState(false); // [2. í”„ë¡œí•„ ë¹„ë°€ë²ˆí˜¸]</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [userToAuthenticate, setUserToAuthenticate] = useState(null); // [2. í”„ë¡œí•„ ë¹„ë°€ë²ˆí˜¸]</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [isProfileSelectorOpen, setIsProfileSelectorOpen] = useState(true); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [activeView, setActiveView] = useState('timeline'); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [postToRetweet, setPostToRetweet] = useState(null); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [replyToPost, setReplyToPost] = useState(null); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [lastCheckedNotifications, setLastCheckedNotifications] = useState(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  // [1. ë‹¤í¬ ëª¨ë“œ ì¶”ê°€] - ìƒíƒœ ê´€ë¦¬</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const [isDarkMode, setIsDarkMode] = useState(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const stored = localStorage.getItem(DARK_MODE_STORAGE_KEY);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (stored !== null) return stored === 'true';</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  return window.matchMedia('(prefers-color-scheme: dark)').matches;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const { getDoc, doc, onSnapshot, setDoc, collection } = window.firebase || {};</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const mockUserProfile = useMemo(() => </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  MOCK_USERS.find(user => user.uid === currentUserId), </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  [currentUserId]</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  );</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleToUidMap = useMemo(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const map = {};</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  MOCK_USERS.forEach(user => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const customProfile = allCustomProfiles[user.uid];</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const handle = customProfile?.handle || user.handle;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  map[handle.toLowerCase()] = user.uid;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  return map;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [allCustomProfiles]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const currentUserProfile = useMemo(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!mockUserProfile) return null;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const custom = currentCustomProfile || {}; </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const profileImageUrl = custom.profileImageUrl || ''; </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  return { </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  ...mockUserProfile, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  name: custom.name || mockUserProfile.name,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  handle: custom.handle || mockUserProfile.handle,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  profileImageUrl: profileImageUrl, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  passwordHash: custom.passwordHash || null, // [2. í”„ë¡œí•„ ë¹„ë°€ë²ˆí˜¸]</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  };</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [currentUserId, mockUserProfile, currentCustomProfile]); </span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  App.currentUserProfile = currentUserProfile; </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  App.currentUserId = currentUserId; </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const filteredUsers = useMemo(() => </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  MOCK_USERS.filter(user => user.group === activeGroup),</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  [activeGroup]</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleThreadSelect = (postId) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (postId) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setSelectedPostIdForThread(postId);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  // [2. í”„ë¡œí•„ ë¹„ë°€ë²ˆí˜¸] - í”„ë¡œí•„ ì €ì¥ ì‹œ ë¹„ë°€ë²ˆí˜¸ í•´ì‹œ ì €ì¥ ë¡œì§ ì¶”ê°€</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleProfileSave = useCallback(async ({ name, handle, profileImageUrl, passwordHash }) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!db || !currentUserId) return;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  try {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const profileDocRef = doc(db, `/artifacts/${canvasAppId}/public/data/userProfiles`, currentUserId);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  await setDoc(profileDocRef, { </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  name, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  handle, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  profileImageUrl: profileImageUrl.trim(),</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  passwordHash: passwordHash // í•´ì‹œëœ ë¹„ë°€ë²ˆí˜¸ ì €ì¥</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  }, { merge: true });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  } catch (error) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  console.error("Error saving profile to Firestore:", error);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  alert("í”„ë¡œí•„ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì½˜ì†”ì„ í™•ì¸í•´ ì£¼ì„¸ìš”.");</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setIsProfileModalOpen(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [db, currentUserId]);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleLogout = () => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setCurrentUserId(null); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  localStorage.removeItem(ACTIVE_USER_STORAGE_KEY);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setActiveView('timeline'); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setSelectedPostIdForThread(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const toggleProfileSelector = () => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setIsProfileSelectorOpen(prev => !prev);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleProfileSwitch = (user) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const fullProfile = allCustomProfiles[user.uid] ? { ...user, ...allCustomProfiles[user.uid] } : user;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (currentUserId === user.uid) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  return handleLogout(); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  // [2. í”„ë¡œí•„ ë¹„ë°€ë²ˆí˜¸] - ë¹„ë°€ë²ˆí˜¸ ì„¤ì • í™•ì¸ ë° ëª¨ë‹¬ ì—´ê¸°</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (fullProfile.passwordHash) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setUserToAuthenticate(fullProfile);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setIsPasswordModalOpen(true);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  } else {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  performLogin(user);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  // [2. í”„ë¡œí•„ ë¹„ë°€ë²ˆí˜¸] - ì‹¤ì œ ë¡œê·¸ì¸ ìˆ˜í–‰ ë¡œì§</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const performLogin = useCallback((user) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setCurrentUserId(user.uid);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  localStorage.setItem(ACTIVE_USER_STORAGE_KEY, user.uid);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setIsProfileSelectorOpen(false); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setActiveView('timeline'); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setSelectedPostIdForThread(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setIsPasswordModalOpen(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setUserToAuthenticate(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, []);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleSaveGroupName = useCallback(async (groupId) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!db || !groupId || editingGroupName.trim() === '') return;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  try {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const groupDocRef = doc(db, `/artifacts/${canvasAppId}/public/data/customGroups`, groupId);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  await setDoc(groupDocRef, { name: editingGroupName.trim() }, { merge: true });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setEditingGroupId(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setEditingGroupName('');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  } catch (error) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  console.error("Error saving group name to Firestore:", error);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  alert("íŒ€ ì´ë¦„ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [db, editingGroupName]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleStartEditGroup = useCallback((group) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const initialName = customGroups[group.id] || group.name;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setActiveGroup(group.id);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setEditingGroupName(initialName);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setEditingGroupId(group.id);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [customGroups]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleCancelEditGroup = useCallback(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setEditingGroupId(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setEditingGroupName('');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, []);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  useEffect(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!initializeApp || !getAuth || !getFirestore) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setIsLoading(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  return;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (Object.keys(firebaseConfig).length === 0 || !firebaseConfig.apiKey) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setIsLoading(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  return;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  try {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const app = initializeApp(firebaseConfig);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const firestore = getFirestore(app);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const firebaseAuth = getAuth(app);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setDb(firestore);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setAuth(firebaseAuth);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const unsubscribe = onAuthStateChanged(firebaseAuth, async (user) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!user) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (initialAuthToken) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await signInWithCustomToken(firebaseAuth, initialAuthToken);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await signInAnonymously(firebaseAuth);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch (e) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("ì¸ì¦ ì‹œë„ ì‹¤íŒ¨:", e.code, e.message);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setIsLoading(false); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  }, (error) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("onAuthStateChanged ì˜¤ë¥˜:", error);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setIsLoading(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  return () => unsubscribe();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  } catch (e) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  console.error("Firebase ì´ˆê¸°í™” ë˜ëŠ” ì¸ì¦ ì˜¤ë¥˜:", e.name, e.message);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setIsLoading(false);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, []);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  // [1. ë‹¤í¬ ëª¨ë“œ ì¶”ê°€] - Dark Mode ìƒíƒœë¥¼ body í´ë˜ìŠ¤ì— ë°˜ì˜ ë° ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  useEffect(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (isDarkMode) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  document.body.classList.add('dark');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem(DARK_MODE_STORAGE_KEY, 'true');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  } else {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  document.body.classList.remove('dark');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem(DARK_MODE_STORAGE_KEY, 'false');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [isDarkMode]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  // [1. ë‹¤í¬ ëª¨ë“œ ì¶”ê°€] - í† ê¸€ í•¸ë“¤ëŸ¬</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const toggleDarkMode = useCallback(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setIsDarkMode(prev => !prev);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, []);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  useEffect(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!db || !currentUserId) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setCurrentCustomProfile(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  return;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const profileDocRef = doc(db, `/artifacts/${canvasAppId}/public/data/userProfiles`, currentUserId);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const unsubscribe = onSnapshot(profileDocRef, (docSnap) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  if (docSnap.exists()) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setCurrentCustomProfile(docSnap.data());</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  } else {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setCurrentCustomProfile({}); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }, (error) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  console.error("Firestore Profile ë¶ˆëŸ¬ì˜¤ê¸° ì˜¤ë¥˜:", error);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setCurrentCustomProfile({});</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  return () => unsubscribe();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [db, currentUserId]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  useEffect(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!db || isLoading) return;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const profilesColRef = collection(db, `/artifacts/${canvasAppId}/public/data/userProfiles`);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const unsubscribe = onSnapshot(profilesColRef, (snapshot) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const fetchedProfiles = {};</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  snapshot.docs.forEach(doc => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  fetchedProfiles[doc.id] = doc.data();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setAllCustomProfiles(fetchedProfiles);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }, (error) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  console.error("Firestore All Profiles ë¶ˆëŸ¬ì˜¤ê¸° ì˜¤ë¥˜:", error);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  return () => unsubscribe();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [db, isLoading]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  useEffect(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!db || isLoading) return;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const groupsColRef = collection(db, `/artifacts/${canvasAppId}/public/data/customGroups`);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const unsubscribe = onSnapshot(groupsColRef, (snapshot) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const fetchedGroups = {};</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  snapshot.docs.forEach(doc => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  fetchedGroups[doc.id] = doc.data().name;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setCustomGroups(fetchedGroups);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }, (error) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  console.error("Firestore Custom Groups ë¶ˆëŸ¬ì˜¤ê¸° ì˜¤ë¥˜:", error);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  return () => unsubscribe();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [db, isLoading]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  useEffect(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (currentUserId) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const storedTime = localStorage.getItem(`${LAST_CHECKED_NOTIFICATIONS_KEY}_${currentUserId}`);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setLastCheckedNotifications(storedTime ? new Date(parseInt(storedTime)) : new Date(0));</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [currentUserId]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  useEffect(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!db || isLoading) return;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const postsColRef = collection(db, `/artifacts/${canvasAppId}/public/data/posts`);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const q = query(postsColRef);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const unsubscribe = onSnapshot(q, (snapshot) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const fetchedPosts = snapshot.docs.map(doc => ({</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id: doc.id,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ...doc.data(),</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timestamp: doc.data().timestamp?.toDate() || new Date(),</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  threadUpdatedTimestamp: doc.data().threadUpdatedTimestamp?.toDate(),</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  likes: doc.data().likes || [], </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  bookmarks: doc.data().bookmarks || [], </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  retweetedPostId: doc.data().retweetedPostId || null,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  imageUrl: doc.data().imageUrl || null,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mentions: doc.data().mentions || [],</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  }));</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  // Firestoreì—ì„œ ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ timestamp ê¸°ì¤€ìœ¼ë¡œ í•œ ë²ˆ ì •ë ¬í•´ ì¤ë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const sortedPosts = fetchedPosts.sort((a, b) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const aTime = a.timestamp.getTime();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const bTime = b.timestamp.getTime();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return bTime - aTime; </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setPosts(sortedPosts);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }, (error) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  console.error("Firestore ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ì˜¤ë¥˜:", error);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  return () => unsubscribe();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [db, isLoading]); </span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleReplyClick = useCallback((post) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (App.currentUserId) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setReplyToPost(post);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, []);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleCancelReply = useCallback(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setReplyToPost(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, []);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handlePost = useCallback(async (content, replyToId = null, retweetedPostId = null, imageUrl = null) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!db || !currentUserId || !getDoc) return;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (content.trim() === "" && !retweetedPostId && !imageUrl) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const postingProfile = currentUserProfile || { </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  uid: currentUserId, name: "Anonymous User", handle: "anonymous", color: "bg-gray-500", profile: "ğŸ‘¤", profileImageUrl: '' </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  };</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const mentionRegex = /@([a-zA-Z0-9_]+)/g;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const mentions = new Set();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  let match;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  while ((match = mentionRegex.exec(content)) !== null) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const handle = match[1].toLowerCase();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  if (handleToUidMap[handle]) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mentions.add(handleToUidMap[handle]);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  // ë‹µê¸€ì„ ë‹¬ ë•Œ, ì›ë³¸ ê²Œì‹œë¬¼(rootPost)ì˜ threadUpdatedTimestampë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë¡œì§ì€ ì‚­ì œí•©ë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  // ì´ì œ ê°œë³„ 'ê°€ì§€'ê°€ íƒ€ì„ë¼ì¸ ìˆœì„œë¥¼ ê²°ì •í•˜ë¯€ë¡œ, ë£¨íŠ¸ ê²Œì‹œë¬¼ì˜ ì‹œê°„ì„ ë°”ê¿€ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  try {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const postsColRef = collection(db, `/artifacts/${canvasAppId}/public/data/posts`);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const newDocRef = await addDoc(postsColRef, {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  content: content,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  authorId: postingProfile.uid,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  authorName: postingProfile.name, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  authorHandle: postingProfile.handle, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  authorColor: postingProfile.color,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  authorProfile: postingProfile.profile,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  authorImageUrl: postingProfile.profileImageUrl, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  replyToId: replyToId, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  retweetedPostId: retweetedPostId,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  imageUrl: imageUrl && imageUrl.startsWith('http') ? imageUrl : null,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timestamp: serverTimestamp(),</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  likes: [], </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  bookmarks: [],</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mentions: Array.from(mentions),</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setNewPostId(newDocRef.id); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  } catch (e) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  console.error("ê²Œì‹œ ì‹¤íŒ¨:", e);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [db, currentUserId, currentUserProfile, getDoc, handleToUidMap]);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleRetweetAction = useCallback(async (targetPost, actionType) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!currentUserId || !targetPost) return;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const isSimpleRetweetPost = targetPost.retweetedPostId && !targetPost.content && !targetPost.replyToId;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const targetOriginalId = isSimpleRetweetPost ? targetPost.retweetedPostId : targetPost.id;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!targetOriginalId) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â if (isSimpleRetweetPost) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await deleteDoc(doc(db, `/artifacts/${canvasAppId}/public/data/posts`, targetPost.id));</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch(e) { /* silent fail */ }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â return console.error("ì•¡ì…˜ ëŒ€ìƒ ì›ë³¸ ê²Œì‹œë¬¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const postToQuote = posts.find(p => p.id === targetOriginalId);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (actionType === 'QT') {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  if (!postToQuote) return console.error("ì¸ìš©í•  ì›ë³¸ ê²Œì‹œë¬¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setPostToRetweet({ post: postToQuote, action: 'QT' });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  } else if (actionType === 'RT') {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const existingSimpleRT = posts.find(p => </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  p.retweetedPostId === targetOriginalId && </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  !p.content && </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  !p.replyToId && </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  p.authorId === currentUserId</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  if (existingSimpleRT) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const docRef = doc(db, `/artifacts/${canvasAppId}/public/data/posts`, existingSimpleRT.id);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await deleteDoc(docRef);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch (e) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("ì–¸ë¦¬íŠ¸ìœ— ì‹¤íŒ¨:", e);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  } else {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!postToQuote) return console.error("ë¦¬íŠ¸ìœ—í•  ì›ë³¸ ê²Œì‹œë¬¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await handlePost("", null, targetOriginalId, null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [currentUserId, posts, handlePost, db]);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const submitQuoteTweet = useCallback(async (content, originalPostId, imageUrl) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (content.trim() === "" && imageUrl.trim() === "") return;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  await handlePost(content, null, originalPostId, imageUrl);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setPostToRetweet(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [handlePost]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const toggleReaction = useCallback(async (postId, fieldName) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!db || !currentUserId || !getDoc) return;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  try {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const docRef = doc(db, `/artifacts/${canvasAppId}/public/data/posts`, postId);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const docSnap = await getDoc(docRef);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  if (docSnap.exists()) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const postData = docSnap.data();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const currentUsers = postData[fieldName] || [];</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let newUsers;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (currentUsers.includes(currentUserId)) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newUsers = currentUsers.filter(uid => uid !== currentUserId);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newUsers = [...currentUsers, currentUserId];</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await updateDoc(docRef, { [fieldName]: newUsers });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  } catch (e) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  console.error(`${fieldName} í† ê¸€ ì‹¤íŒ¨:`, e);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [db, currentUserId, getDoc]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleToggleLike = useCallback((postId) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  toggleReaction(postId, 'likes');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [toggleReaction]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleToggleBookmark = useCallback((postId) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  toggleReaction(postId, 'bookmarks');</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [toggleReaction]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleRequestDelete = useCallback((postId) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const post = posts.find(p => p.id === postId);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (post) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setPostToDelete({ id: postId, content: post.content, authorHandle: post.authorHandle, imageUrl: post.imageUrl }); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [posts]);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const confirmDelete = useCallback(async () => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!db || !postToDelete) return;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  try {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const docRef = doc(db, `/artifacts/${canvasAppId}/public/data/posts`, postToDelete.id);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  await deleteDoc(docRef);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  if (selectedPostIdForThread === postToDelete.id) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setSelectedPostIdForThread(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  } catch (e) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  console.error("ê²Œì‹œë¬¼ ì‚­ì œ ì‹¤íŒ¨:", e);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  } finally {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  setPostToDelete(null); </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [db, postToDelete, selectedPostIdForThread]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const cancelDelete = useCallback(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setPostToDelete(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, []);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const clearNewPostId = useCallback(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setNewPostId(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, []);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleEditPost = useCallback(async (postId, newContent) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!db || !currentUserId || newContent.trim() === "") return false;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  try {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const docRef = doc(db, `/artifacts/${canvasAppId}/public/data/posts`, postId);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  await updateDoc(docRef, { </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  content: newContent,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  editedAt: serverTimestamp() </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  return true;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  } catch (e) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  console.error("ê²Œì‹œë¬¼ ìˆ˜ì • ì‹¤íŒ¨:", e);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  return false;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [db, currentUserId]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const mentionPosts = useMemo(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!currentUserId) return [];</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  return posts</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  .filter(p => p.mentions?.includes(currentUserId))</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  .sort((a,b) => b.timestamp.getTime() - a.timestamp.getTime());</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [posts, currentUserId]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const unreadMentionCount = useMemo(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!lastCheckedNotifications) return 0;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  return mentionPosts.filter(p => p.timestamp > lastCheckedNotifications).length;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [mentionPosts, lastCheckedNotifications]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  // [!!!] ì—¬ê¸°ê°€ 'ë‚˜ë­‡ê°€ì§€' ë¡œì§ì˜ í•µì‹¬ì…ë‹ˆë‹¤. (ìˆ˜ì •ë¨)</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const displayItems = useMemo(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (selectedPostIdForThread) return [];</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (activeView === 'likes') {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  if (!currentUserId) return [];</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  return posts.filter(p => p.likes?.includes(currentUserId));</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (activeView === 'bookmarks') {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  if (!currentUserId) return [];</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  return posts.filter(p => p.bookmarks?.includes(currentUserId));</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (activeView === 'notifications') {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  return mentionPosts;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (activeView === 'timeline') {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const postsById = new Map(posts.map(p => [p.id, p]));</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const timelineActivities = [];</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const processedBranches = new Set(); // ì²˜ë¦¬ëœ 'ê°€ì§€'ë¥¼ ì¶”ì í•©ë‹ˆë‹¤. (ì²« ë²ˆì§¸ ëŒ“ê¸€ ID ê¸°ì¤€)</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  // ëª¨ë“  ê²Œì‹œë¬¼ì„ ìµœì‹ ìˆœìœ¼ë¡œ ìˆœíšŒí•©ë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  for (const latestPostInActivity of posts) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ë‹¨ìˆœ ë¦¬íŠ¸ìœ—ì„ ë¨¼ì € ì²˜ë¦¬í•©ë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ë‹¨ìˆœ ë¦¬íŠ¸ìœ—ì„ ë¨¼ì € ì²˜ë¦¬í•©ë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (latestPostInActivity.retweetedPostId && !latestPostInActivity.content && !latestPostInActivity.replyToId) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!processedBranches.has(latestPostInActivity.id)) { // ì¤‘ë³µ ë°©ì§€ë¥¼ ìœ„í•´ ìì‹ ì˜ IDë¥¼ ì‚¬ìš©</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timelineActivities.push({ type: 'retweet', activity: latestPostInActivity, id: latestPostInActivity.id });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  processedBranches.add(latestPostInActivity.id);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  continue;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ìµœì‹  ê²Œì‹œë¬¼ë¶€í„° ë£¨íŠ¸ê¹Œì§€ì˜ ëŒ€í™” ê²½ë¡œë¥¼ ì¶”ì í•©ë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const path = [];</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let current = latestPostInActivity;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  while (current) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  path.unshift(current);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  current = postsById.get(current.replyToId);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const rootPost = path[0];</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!rootPost) continue;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // 'ê°€ì§€'ëŠ” ë£¨íŠ¸ ê²Œì‹œë¬¼ì— ë‹¬ë¦° ì²« ë²ˆì§¸ ëŒ“ê¸€ë¡œ ì‹ë³„í•©ë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ê²½ë¡œì— ë£¨íŠ¸ë§Œ ìˆë‹¤ë©´, ê°€ì§€ IDëŠ” ë£¨íŠ¸ì˜ IDê°€ ë©ë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const branchIdentifier = path.length > 1 ? path[1].id : rootPost.id;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ì´ ê°€ì§€ì—ì„œ ë” ìµœì‹  í™œë™ì„ ì´ë¯¸ ì²˜ë¦¬í–ˆë‹¤ë©´ ê±´ë„ˆí‚µë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (processedBranches.has(branchIdentifier)) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  continue;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ê²½ë¡œ êµ¬ì¡°ì— ë”°ë¼ íƒ€ì„ë¼ì¸ ì•„ì´í…œì„ êµ¬ì„±í•©ë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (path.length === 1) { // ì¼€ì´ìŠ¤ 1: ëŒ“ê¸€ì´ ì—†ëŠ” ì›ë³¸ ê²Œì‹œë¬¼</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timelineActivities.push({</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type: 'root_only',</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rootPost: rootPost,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id: rootPost.id</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (path.length === 2) { // ì¼€ì´ìŠ¤ 2: ì›ë³¸ ê²Œì‹œë¬¼ì— ë‹¬ë¦° ë‹¨ì¼ ëŒ“ê¸€</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timelineActivities.push({</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type: 'single_reply',</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rootPost: rootPost,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  reply: path[1], // ìœ ì¼í•œ ëŒ“ê¸€</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id: branchIdentifier</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else { // ì¼€ì´ìŠ¤ 3: ì¤‘ì²©ëœ ëŒ€í™” (3ë‹¨ êµ¬ì¡°ë¡œ í‘œì‹œ)</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timelineActivities.push({</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type: 'branch',</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rootPost: rootPost,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  parentReply: path[path.length - 2], // ìµœì‹  ëŒ“ê¸€ì˜ ë°”ë¡œ ìœ„ ë¶€ëª¨</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  latestReply: latestPostInActivity,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id: branchIdentifier</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ì´ ê°€ì§€ëŠ” ì²˜ë¦¬ë˜ì—ˆìŒì„ í‘œì‹œí•˜ì—¬ ì¤‘ë³µìœ¼ë¡œ íƒ€ì„ë¼ì¸ì— ë‚˜íƒ€ë‚˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  processedBranches.add(branchIdentifier);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  return timelineActivities;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  return [];</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [posts, currentUserId, activeView, selectedPostIdForThread, mentionPosts]);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const threadData = useMemo(() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!selectedPostIdForThread) return null;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const postsById = new Map(posts.map(p => [p.id, p]));</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const selectedPost = postsById.get(selectedPostIdForThread);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  if (!selectedPost) return null;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const parentPosts = [];</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  let current = selectedPost;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  while (current.replyToId) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  const parent = postsById.get(current.replyToId);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  if (!parent) break;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  parentPosts.unshift(parent);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  current = parent;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const replies = posts</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  .filter(p => p.replyToId === selectedPostIdForThread)</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  .sort((a, b) => a.timestamp.getTime() - b.timestamp.getTime());</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const postsWithChildren = new Set(posts.map(p => p.replyToId).filter(id => id));</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  const hasNestedReplies = replies.some(r => postsWithChildren.has(r.id));</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  return { parentPosts, selectedPost, replies, hasNestedReplies, postsWithChildren };</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }, [selectedPostIdForThread, posts]);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const currentViewData = VIEW_OPTIONS.find(v => v.id === activeView);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const LoaderIcon = Loader; </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const ToggleIcon = isProfileSelectorOpen ? ChevronUp : ChevronDown;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  if (isLoading) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex justify-center items-center min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {typeof LoaderIcon === 'string' ? <span className="animate-spin mr-2 text-2xl">{LoaderIcon}</span> : <LoaderIcon className="animate-spin mr-2" size={24} />}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ë°ì´í„° ë¡œë”© ì¤‘...</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const handleThreadBackClick = () => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  setSelectedPostIdForThread(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const currentProfileDisplay = currentUserProfile || { name: 'ë¡œê·¸ì•„ì›ƒë¨', handle: 'guest', profile: '?', color: 'bg-gray-500', profileImageUrl: '' };</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  const allPostProps = {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  onThreadSelect: handleThreadSelect, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  onEditPost: handleEditPost, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  onRequestDelete: handleRequestDelete, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  onNewPostAnimated: clearNewPostId, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  newPostId, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  posts, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  onToggleLike: handleToggleLike, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  onToggleBookmark: handleToggleBookmark, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  onRetweetAction: handleRetweetAction, </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  onReplyClick: handleReplyClick</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  <div className="min-h-screen bg-gray-100 dark:bg-gray-900 font-sans antialiased pt-[70px]"> </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <div className="fixed top-0 left-0 right-0 z-20 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="w-full max-w-xl md:w-[576px] mx-auto p-3 flex justify-between items-center"> </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={toggleProfileSelector}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="flex items-center space-x-2 text-lg font-bold text-gray-800 dark:text-white focus:outline-none"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  aria-expanded={isProfileSelectorOpen}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ProfilePictureDisplay </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  profile={currentProfileDisplay} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sizeClass="w-8 h-8" </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  textSizeClass="text-lg" </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex flex-col items-start truncate max-w-[120px] sm:max-w-full"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="font-bold text-base leading-tight truncate">{currentProfileDisplay.name}</p></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-sm text-gray-500 dark:text-gray-400 leading-tight truncate">@{currentProfileDisplay.handle}</p></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className={`w-5 h-5 transition-transform duration-300 flex items-center justify-center`}></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {typeof ToggleIcon === 'string' </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ? <span className="text-xl">{ToggleIcon}</span> </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  : <ToggleIcon size={20} className={isProfileSelectorOpen ? 'rotate-180' : 'rotate-0'} /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="space-x-2 flex items-center"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* [1. ë‹¤í¬ ëª¨ë“œ ì¶”ê°€] - í† ê¸€ ë²„íŠ¼ ìœ„ì¹˜ */}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <DarkAndLightModeButton </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isDarkMode={isDarkMode} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onToggle={toggleDarkMode}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {currentUserId && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={() => setIsProfileModalOpen(true)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="px-3 py-1 bg-white text-blue-600 border border-blue-600 rounded-full font-medium shadow-sm hover:bg-blue-50 transition duration-150 text-sm dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-blue-400 dark:border-blue-400"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ìˆ˜ì •</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={handleLogout}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="px-3 py-1 bg-white text-red-600 border border-red-600 rounded-full font-medium shadow-sm hover:bg-red-50 transition duration-150 text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-red-400 dark:border-red-400"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ë¡œê·¸ì•„ì›ƒ</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className={`transition-all duration-300 ease-in-out overflow-hidden w-full max-w-xl md:w-[576px] mx-auto ${isProfileSelectorOpen ? 'max-h-[500px] opacity-100 p-4 pt-0' : 'max-h-0 opacity-0 p-0'}`}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex justify-around p-2 mb-3 bg-gray-100 dark:bg-gray-900 rounded-lg shadow-inner"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {MOCK_GROUPS.map(group => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isEditing = editingGroupId === group.id;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const displayName = customGroups[group.id] || group.name;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (isEditing) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div key={group.id} className="p-1 flex flex-col items-center w-1/4"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="text"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={editingGroupName}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setEditingGroupName(e.target.value)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onKeyDown={(e) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (e.key === 'Enter' && editingGroupName.trim() !== '' && editingGroupName.trim() !== displayName) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  handleSaveGroupName(group.id);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else if (e.key === 'Escape') {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  handleCancelEditGroup();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full text-center text-sm font-semibold rounded-md border border-blue-400 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white mb-1"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  maxLength="10"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex space-x-1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={() => handleSaveGroupName(group.id)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={editingGroupName.trim() === '' || editingGroupName.trim() === displayName}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="text-xs px-1 py-0.5 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 transition"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì €ì¥</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={handleCancelEditGroup}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="text-xs px-1 py-0.5 bg-gray-400 text-white rounded-md hover:bg-gray-500 transition"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì·¨ì†Œ</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key={group.id}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={(e) => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  e.stopPropagation();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (activeGroup === group.id) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  handleStartEditGroup(group);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setActiveGroup(group.id);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className={`flex flex-col items-center p-2 rounded-lg text-sm transition font-semibold w-1/4</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${activeGroup === group.id </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ? 'text-blue-600 bg-white dark:bg-gray-700 shadow-md' </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  : 'text-gray-500 hover:text-blue-500 dark:text-gray-400'</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="text-xl">{group.icon}</span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {displayName}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  })}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="p-2 bg-gray-50 dark:bg-gray-900 rounded-lg max-h-60 overflow-y-auto"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="font-semibold text-gray-500 dark:text-gray-400 self-center mb-2 block border-b pb-1 dark:border-gray-700"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {customGroups[activeGroup] || MOCK_GROUPS.find(g => g.id === activeGroup)?.name} í”„ë¡œí•„ ì„ íƒ:</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex flex-wrap justify-center gap-3"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {filteredUsers.map(user => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const custom = allCustomProfiles[user.uid] || {};</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const displayProfile = {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ...user,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  name: custom.name || user.name,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  handle: custom.handle || user.handle,</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  profileImageUrl: custom.profileImageUrl || '',</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  passwordHash: custom.passwordHash || null, // [2. í”„ë¡œí•„ ë¹„ë°€ë²ˆí˜¸]</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key={user.uid}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={() => handleProfileSwitch(user)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className={`flex items-center p-3 rounded-xl text-white transition w-full max-w-[48%] sm:max-w-[30%]</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${user.color} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${currentUserId === user.uid ? 'ring-4 ring-offset-2 ring-red-400 scale-[1.01] opacity-100 shadow-lg' : 'opacity-80 hover:opacity-100'}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mr-2"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ProfilePictureDisplay </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  profile={displayProfile} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sizeClass="w-8 h-8"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  textSizeClass="text-sm"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isSmall={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="text-left flex-grow truncate"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="font-bold truncate">{displayProfile.name}</p></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-xs truncate">@{displayProfile.handle}</p></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {displayProfile.passwordHash && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="text-xs ml-1">ğŸ”’</span> // ë¹„ë°€ë²ˆí˜¸ ì ê¸ˆ ì•„ì´ì½˜</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  })}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <div className="w-full max-w-xl md:w-[576px] mx-auto border-x border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-800 shadow-lg min-h-screen min-w-[300px]"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="sticky top-[57px] z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex justify-around text-center"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {VIEW_OPTIONS.map((view) => (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key={view.id}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={() => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setActiveView(view.id);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setSelectedPostIdForThread(null);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (view.id === 'notifications' && currentUserId) {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const now = new Date().getTime();</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem(`${LAST_CHECKED_NOTIFICATIONS_KEY}_${currentUserId}`, now);</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setLastCheckedNotifications(new Date(now));</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className={`py-3 flex-1 text-sm font-semibold transition relative</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${activeView === view.id </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ? 'text-blue-500 dark:text-blue-400' </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  : 'text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700'</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${!currentUserId && view.id !== 'timeline' ? 'opacity-50 cursor-not-allowed' : ''}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={!currentUserId && view.id !== 'timeline'}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {view.name}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {view.id === 'notifications' && unreadMentionCount > 0 && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="absolute top-2 right-1/4 w-2 h-2 bg-red-500 rounded-full"></span></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {activeView === view.id && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="absolute bottom-0 left-1/2 transform -translate-x-1/2 h-1 w-1/3 bg-blue-500 rounded-full"></div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {(activeView === 'timeline' && !selectedPostIdForThread) && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="border-b border-gray-200 dark:border-gray-700"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ReplyForm </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  parentId={null} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onReply={handlePost} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isMainPost={true} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentUserProfile={currentUserProfile}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentUserId={currentUserId}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <main></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {selectedPostIdForThread ? (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="p-4 border-b border-gray-200 dark:border-gray-700 flex items-center space-x-4"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={handleThreadBackClick}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {typeof ArrowLeft === 'string' ? <span className="text-xl">{ArrowLeft}</span> : <ArrowLeft size={20} />}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 className="text-lg font-bold">ìŠ¤ë ˆë“œ</h2></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {threadData ? (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {threadData.parentPosts.map((post, index) => (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <PostItem</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key={post.id}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {...allPostProps}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  post={post}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isThreadView={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawTopLine={index > 0}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawBottomLine={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <PostItem</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key={threadData.selectedPost.id}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {...allPostProps}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  post={threadData.selectedPost}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isThreadView={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isMainFocus={true} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawTopLine={threadData.parentPosts.length > 0}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawBottomLine={threadData.replies.length > 0}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="border-b border-gray-200 dark:border-gray-700"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ReplyForm </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  parentId={threadData.selectedPost.id} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onReply={handlePost} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isMainPost={false} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentUserProfile={currentUserProfile}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentUserId={currentUserId}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  parentAuthorHandle={threadData.selectedPost.authorHandle}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {threadData.replies.map((reply, index) => (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ExpandableReply</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key={reply.id}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  reply={reply}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  index={index}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  replies={threadData.replies}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  allPostProps={allPostProps}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  posts={posts}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  postsWithChildren={threadData.postsWithChildren}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) : (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="text-center text-gray-500 p-8">ê²Œì‹œë¬¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) : displayItems.length === 0 ? (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="p-10 text-center text-gray-500 dark:text-gray-400"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {currentViewData.emptyMessage}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // [!!!] ì—¬ê¸°ê°€ 'ë‚˜ë­‡ê°€ì§€' ë·°ë¥¼ ë Œë”ë§í•˜ëŠ” í•µì‹¬ ë¶€ë¶„ì…ë‹ˆë‹¤. (ìˆ˜ì •ë¨)</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) : activeView === 'timeline' ? (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  displayItems.map(item => {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (item.type === 'root_only') {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return <PostItem key={item.id} {...allPostProps} post={item.rootPost} />;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (item.type === 'retweet') {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return <PostItem key={item.id} {...allPostProps} post={item.activity} />;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // [ì›ë³¸ ê¸€] â†’ [ëŒ“ê¸€] êµ¬ì¡°ë¡œ ë Œë”ë§</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (item.type === 'single_reply') {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key={item.id} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="border-b border-gray-200 dark:border-gray-800 cursor-pointer hover:bg-gray-50/50 dark:hover:bg-gray-900/50"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={() => handleThreadSelect(item.reply.id)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <PostItem </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {...allPostProps} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  post={item.rootPost} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isPreview={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawBottomLine={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <PostItem </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {...allPostProps} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  post={item.reply} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isPreview={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isTimelinePreview={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawTopLine={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawBottomLine={false}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // [ì›ë³¸ ê¸€] â†’ [ë¶€ëª¨ ëŒ“ê¸€] â†’ [ìµœì‹  ëŒ€ëŒ“ê¸€] êµ¬ì¡°ë¡œ ë Œë”ë§</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (item.type === 'branch') {</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key={item.id} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="border-b border-gray-200 dark:border-gray-800 cursor-pointer hover:bg-gray-50/50 dark:hover:bg-gray-900/50"</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={() => handleThreadSelect(item.latestReply.id)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <PostItem </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {...allPostProps} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  post={item.rootPost} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isTimelineParent={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isPreview={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawBottomLine={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <PostItem </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {...allPostProps} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  post={item.parentReply} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isTimelinePreview={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isPreview={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawTopLine={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawBottomLine={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <PostItem </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {...allPostProps} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  post={item.latestReply} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isTimelinePreview={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isPreview={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawTopLine={true}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawBottomLine={false}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return null;</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  })</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) : (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  displayItems.map(post => (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <PostItem </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key={post.id} </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {...allPostProps}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  post={post}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </main></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  <DeleteConfirmationModal</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  post={postToDelete}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onConfirm={confirmDelete}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onCancel={cancelDelete}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  {isProfileModalOpen && currentUserProfile && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ProfileEditorModal</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  profile={currentUserProfile}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onSave={handleProfileSave}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentPasswordHash={currentUserProfile.passwordHash} // [2. í”„ë¡œí•„ ë¹„ë°€ë²ˆí˜¸]</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onCancel={() => setIsProfileModalOpen(false)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  {postToRetweet?.action === 'QT' && currentUserId && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <QuoteTweetModal</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  post={postToRetweet.post}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onQuoteSubmit={submitQuoteTweet}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onCancel={() => setPostToRetweet(null)}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentUserProfile={currentUserProfile}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentUserId={currentUserId}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  {replyToPost && App.currentUserId && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ReplyModal</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  post={replyToPost}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onReply={handlePost}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onCancel={handleCancelReply}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentUserProfile={currentUserProfile}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentUserId={currentUserId}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  </span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  {/* [2. í”„ë¡œí•„ ë¹„ë°€ë²ˆí˜¸] - ë¹„ë°€ë²ˆí˜¸ ì¸ì¦ ëª¨ë‹¬ í‘œì‹œ */}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  {isPasswordModalOpen && userToAuthenticate && (</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <PasswordModal</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  user={userToAuthenticate}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onConfirm={performLogin}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onCancel={() => { setIsPasswordModalOpen(false); setUserToAuthenticate(null); }}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  Â  Â  )}</span></p><p class="c0"><span class="c1">Â  Â  Â  Â  Â  Â  </div></span></p><p class="c0"><span class="c1">Â  Â  Â  Â  );</span></p><p class="c0"><span class="c1">Â  Â  };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Â  Â  const container = document.getElementById('root');</span></p><p class="c0"><span class="c1">Â  Â  const root = ReactDOM.createRoot(container);</span></p><p class="c0"><span class="c1">Â  Â  root.render(<App />);</span></p><p class="c0"><span class="c1"></script></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1"></body></span></p><p class="c0"><span class="c1"></html></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p></body></html>